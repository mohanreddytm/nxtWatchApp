{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/nxtWatchApp/src/components/VideoPage/index.js\";\nimport { Component } from \"react\";\nimport Cookies from \"js-cookie\";\nimport ReactPlayer from \"react-player\";\nimport Loader from \"react-loader-spinner\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { AiOutlineLike, AiOutlineDislike } from \"react-icons/ai\";\nimport { HiSaveAs } from \"react-icons/hi\";\nimport AccessOfAllStateOne from \"../../complexOne/AccessOfAllStateOne\";\nimport LeftContainer from \"../LeftContainer\";\nimport Header from \"../Header\";\nimport { MainContainer, Title, ViewsTimeCont, ProfileName, Subscribers, Description, LikeDislikeCont } from \"./styledOne\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AlteringOne = {\n  loading: \"LOADING\",\n  success: \"SUCCESS\",\n  failure: \"FAILURE\"\n};\n\nclass VideoPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      details: \"s\",\n      status: AlteringOne.loading,\n      isSaved: false\n    };\n\n    this.mayBeItGoneWork = () => {\n      console.log(\"mohan\");\n    };\n\n    this.loader = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"loader\",\n      className: \"loading-main video-page-leader\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"TailSpin\",\n        color: \"#00BFFF\",\n        height: 50,\n        width: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this);\n\n    this.getVideoDetails = async () => {\n      this.setState({\n        status: AlteringOne.loading\n      });\n      const {\n        match\n      } = this.props;\n      const {\n        params\n      } = match;\n      const {\n        id\n      } = params;\n      const jwtToken = Cookies.get(\"jwt_token\");\n      const url = `https://apis.ccbp.in/videos/${id}`;\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        }\n      };\n      const response = await fetch(url, options);\n      const jsonOne = await response.json();\n      const videoDetails = jsonOne.video_details;\n      this.setState({\n        details: videoDetails,\n        status: AlteringOne.success\n      });\n    };\n\n    this.videoPlayer = () => {\n      const {\n        details\n      } = this.state;\n      const updatedOne = {\n        channel: details.channel,\n        description: details.description,\n        id: details.id,\n        publishedAt: details.published_at,\n        thumbnailUrl: details.thumbnail_url,\n        title: details.title,\n        videoUrl: details.video_url,\n        viewCount: details.view_count\n      };\n      const updatedChannel = {\n        name: updatedOne.channel.name,\n        profileImageUrl: updatedOne.channel.profile_image_url,\n        subscriberCount: updatedOne.channel.subscriber_count\n      };\n      const timesOfIndia = formatDistanceToNow(new Date(updatedOne.publishedAt)).replace(\"over\", \"\");\n      return /*#__PURE__*/_jsxDEV(AccessOfAllStateOne.Consumer, {\n        children: value => {\n          const {\n            isLight,\n            savedVideos,\n            onSaveVideos,\n            onRemoveSavedVideos\n          } = value;\n          const {\n            isSaved\n          } = this.state;\n          const isAlreadyThere = savedVideos.filter(each => each.id === details.id);\n          const customizeButton = isAlreadyThere.length >= 1 && \"special-class-name\";\n\n          const onClickSaveOne = () => {\n            this.setState(prevState => ({\n              isSaved: !prevState.isSaved\n            }));\n            console.log(isSaved);\n\n            if (isSaved) {\n              onRemoveSavedVideos(details);\n            } else {\n              onSaveVideos(details);\n            }\n          };\n\n          const updateRaNanna = () => {\n            if (isAlreadyThere.length >= 1) {\n              console.log(\"its already there\");\n              this.setState({\n                isSaved: true\n              });\n            }\n          };\n\n          return /*#__PURE__*/_jsxDEV(MainContainer, {\n            isLight: isLight,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(ReactPlayer, {\n                className: \"video-page-image\",\n                url: updatedOne.videoUrl,\n                controls: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Title, {\n                isLight: isLight,\n                children: updatedOne.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"like-share-cont-main\",\n                children: [/*#__PURE__*/_jsxDEV(ViewsTimeCont, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [updatedOne.viewCount, \" views\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \".\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [timesOfIndia, \" ago\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(LikeDislikeCont, {\n                  isLight: isLight,\n                  className: \"checking\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"like-dislike-item-cont\",\n                    children: [/*#__PURE__*/_jsxDEV(AiOutlineLike, {\n                      className: \"like-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Like\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"like-dislike-item-cont\",\n                    children: [/*#__PURE__*/_jsxDEV(AiOutlineDislike, {\n                      className: \"like-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 159,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Dislike\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: onClickSaveOne,\n                    className: `${isSaved && \"special-class-name\"} like-dislike-item-cont ${customizeButton}`,\n                    children: [/*#__PURE__*/_jsxDEV(HiSaveAs, {\n                      className: \"like-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Save\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"divide-line-cont\",\n                children: /*#__PURE__*/_jsxDEV(\"hr\", {\n                  className: \"divide-line\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"video-page-profile-cont\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"video-page-profile-image\",\n                  src: updatedChannel.profileImageUrl,\n                  alt: updatedChannel.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"video-page-profile-right-cont\",\n                  children: [/*#__PURE__*/_jsxDEV(ProfileName, {\n                    isLight: isLight,\n                    children: updatedChannel.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Subscribers, {\n                    children: [updatedChannel.subscriberCount, \" Subscribers\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Description, {\n                    isLight: isLight,\n                    children: updatedOne.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.mainContainer = () => {\n      const {\n        status\n      } = this.state;\n\n      switch (status) {\n        case AlteringOne.loading:\n          return this.loader();\n\n        case AlteringOne.success:\n          return this.videoPlayer();\n\n        default:\n          return this.loader();\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getVideoDetails();\n    this.mayBeItGoneWork();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(AccessOfAllStateOne.Consumer, {\n      children: value => {\n        const {\n          isLight\n        } = value;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-page-lower-one-cont\",\n            children: [/*#__PURE__*/_jsxDEV(LeftContainer, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this), this.mainContainer()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default VideoPage;","map":{"version":3,"sources":["/home/workspace/reactjs/coding-practices/nxtWatchApp/src/components/VideoPage/index.js"],"names":["Component","Cookies","ReactPlayer","Loader","formatDistanceToNow","AiOutlineLike","AiOutlineDislike","HiSaveAs","AccessOfAllStateOne","LeftContainer","Header","MainContainer","Title","ViewsTimeCont","ProfileName","Subscribers","Description","LikeDislikeCont","AlteringOne","loading","success","failure","VideoPage","state","details","status","isSaved","mayBeItGoneWork","console","log","loader","getVideoDetails","setState","match","props","params","id","jwtToken","get","url","options","headers","Authorization","response","fetch","jsonOne","json","videoDetails","video_details","videoPlayer","updatedOne","channel","description","publishedAt","published_at","thumbnailUrl","thumbnail_url","title","videoUrl","video_url","viewCount","view_count","updatedChannel","name","profileImageUrl","profile_image_url","subscriberCount","subscriber_count","timesOfIndia","Date","replace","value","isLight","savedVideos","onSaveVideos","onRemoveSavedVideos","isAlreadyThere","filter","each","customizeButton","length","onClickSaveOne","prevState","updateRaNanna","mainContainer","componentDidMount","render"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\n\nimport Cookies from \"js-cookie\";\n\nimport ReactPlayer from \"react-player\";\n\nimport Loader from \"react-loader-spinner\";\n\nimport { formatDistanceToNow } from \"date-fns\";\n\nimport { AiOutlineLike, AiOutlineDislike } from \"react-icons/ai\";\n\nimport { HiSaveAs } from \"react-icons/hi\";\n\nimport AccessOfAllStateOne from \"../../complexOne/AccessOfAllStateOne\";\n\nimport LeftContainer from \"../LeftContainer\";\n\nimport Header from \"../Header\";\n\nimport {\n  MainContainer,\n  Title,\n  ViewsTimeCont,\n  ProfileName,\n  Subscribers,\n  Description,\n  LikeDislikeCont,\n} from \"./styledOne\";\n\nimport \"./index.css\";\n\nconst AlteringOne = {\n  loading: \"LOADING\",\n  success: \"SUCCESS\",\n  failure: \"FAILURE\",\n};\n\nclass VideoPage extends Component {\n  state = { details: \"s\", status: AlteringOne.loading, isSaved: false };\n\n  componentDidMount() {\n    this.getVideoDetails();\n    this.mayBeItGoneWork();\n  }\n\n  mayBeItGoneWork = () => {\n    console.log(\"mohan\");\n  };\n\n  loader = () => (\n    <div data-testid=\"loader\" className=\"loading-main video-page-leader\">\n      <Loader type=\"TailSpin\" color=\"#00BFFF\" height={50} width={50} />\n    </div>\n  );\n\n  getVideoDetails = async () => {\n    this.setState({ status: AlteringOne.loading });\n    const { match } = this.props;\n    const { params } = match;\n    const { id } = params;\n\n    const jwtToken = Cookies.get(\"jwt_token\");\n\n    const url = `https://apis.ccbp.in/videos/${id}`;\n\n    const options = {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`,\n      },\n    };\n\n    const response = await fetch(url, options);\n    const jsonOne = await response.json();\n    const videoDetails = jsonOne.video_details;\n    this.setState({ details: videoDetails, status: AlteringOne.success });\n  };\n\n  videoPlayer = () => {\n    const { details } = this.state;\n    const updatedOne = {\n      channel: details.channel,\n      description: details.description,\n      id: details.id,\n      publishedAt: details.published_at,\n      thumbnailUrl: details.thumbnail_url,\n      title: details.title,\n      videoUrl: details.video_url,\n      viewCount: details.view_count,\n    };\n\n    const updatedChannel = {\n      name: updatedOne.channel.name,\n      profileImageUrl: updatedOne.channel.profile_image_url,\n      subscriberCount: updatedOne.channel.subscriber_count,\n    };\n\n    const timesOfIndia = formatDistanceToNow(\n      new Date(updatedOne.publishedAt)\n    ).replace(\"over\", \"\");\n    return (\n      <AccessOfAllStateOne.Consumer>\n        {(value) => {\n          const {\n            isLight,\n            savedVideos,\n            onSaveVideos,\n            onRemoveSavedVideos,\n          } = value;\n\n          const { isSaved } = this.state;\n\n          const isAlreadyThere = savedVideos.filter(\n            (each) => each.id === details.id\n          );\n\n          const customizeButton =\n            isAlreadyThere.length >= 1 && \"special-class-name\";\n\n          const onClickSaveOne = () => {\n            this.setState((prevState) => ({ isSaved: !prevState.isSaved }));\n\n            console.log(isSaved);\n            if (isSaved) {\n              onRemoveSavedVideos(details);\n            } else {\n              onSaveVideos(details);\n            }\n          };\n\n          const updateRaNanna = () => {\n            if (isAlreadyThere.length >= 1) {\n              console.log(\"its already there\");\n              this.setState({ isSaved: true });\n            }\n          };\n\n          return (\n            <MainContainer isLight={isLight}>\n              <div>\n                <ReactPlayer\n                  className=\"video-page-image\"\n                  url={updatedOne.videoUrl}\n                  controls\n                />\n                <Title isLight={isLight}>{updatedOne.title}</Title>\n                <div className=\"like-share-cont-main\">\n                  <ViewsTimeCont>\n                    <p>{updatedOne.viewCount} views</p>\n                    <p>.</p>\n                    <p>{timesOfIndia} ago</p>\n                  </ViewsTimeCont>\n                  <LikeDislikeCont isLight={isLight} className=\"checking\">\n                    <li className=\"like-dislike-item-cont\">\n                      <AiOutlineLike className=\"like-icon\" />\n                      <p>Like</p>\n                    </li>\n                    <li className=\"like-dislike-item-cont\">\n                      <AiOutlineDislike className=\"like-icon\" />\n                      <p>Dislike</p>\n                    </li>\n                    <li\n                      onClick={onClickSaveOne}\n                      className={`${\n                        isSaved && \"special-class-name\"\n                      } like-dislike-item-cont ${customizeButton}`}\n                    >\n                      <HiSaveAs className=\"like-icon\" />\n                      <p>Save</p>\n                    </li>\n                  </LikeDislikeCont>\n                </div>\n                <div className=\"divide-line-cont\">\n                  <hr className=\"divide-line\" />\n                </div>\n                <div className=\"video-page-profile-cont\">\n                  <img\n                    className=\"video-page-profile-image\"\n                    src={updatedChannel.profileImageUrl}\n                    alt={updatedChannel.name}\n                  />\n                  <div className=\"video-page-profile-right-cont\">\n                    <ProfileName isLight={isLight}>\n                      {updatedChannel.name}\n                    </ProfileName>\n                    <Subscribers>\n                      {updatedChannel.subscriberCount} Subscribers\n                    </Subscribers>\n                    <Description isLight={isLight}>\n                      {updatedOne.description}\n                    </Description>\n                  </div>\n                </div>\n              </div>\n            </MainContainer>\n          );\n        }}\n      </AccessOfAllStateOne.Consumer>\n    );\n  };\n\n  mainContainer = () => {\n    const { status } = this.state;\n    switch (status) {\n      case AlteringOne.loading:\n        return this.loader();\n\n      case AlteringOne.success:\n        return this.videoPlayer();\n\n      default:\n        return this.loader();\n    }\n  };\n\n  render() {\n    return (\n      <AccessOfAllStateOne.Consumer>\n        {(value) => {\n          const { isLight } = value;\n\n          return (\n            <div>\n              <Header />\n              <div className=\"video-page-lower-one-cont\">\n                <LeftContainer />\n                {this.mainContainer()}\n              </div>\n            </div>\n          );\n        }}\n      </AccessOfAllStateOne.Consumer>\n    );\n  }\n}\n\nexport default VideoPage;\n"]},"metadata":{},"sourceType":"module"}