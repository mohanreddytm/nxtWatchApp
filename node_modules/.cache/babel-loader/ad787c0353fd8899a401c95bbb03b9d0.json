{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/nxtWatchApp/src/components/VideoPage/index.js\";\nimport { Component } from \"react\";\nimport Cookies from \"js-cookie\";\nimport ReactPlayer from \"react-player\";\nimport Loader from \"react-loader-spinner\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { AiOutlineLike, AiOutlineDislike } from \"react-icons/ai\";\nimport { HiSaveAs } from \"react-icons/hi\";\nimport AccessOfAllStateOne from \"../../complexOne/AccessOfAllStateOne\";\nimport LeftContainer from \"../LeftContainer\";\nimport Header from \"../Header\";\nimport { MainContainer, Title, ViewsTimeCont, ProfileName, Subscribers, Description, LikeDislikeCont } from \"./styledOne\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AlteringOne = {\n  loading: \"LOADING\",\n  success: \"SUCCESS\",\n  failure: \"FAILURE\"\n};\n\nclass VideoPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      details: \"s\",\n      ExSavedVideos: [],\n      status: AlteringOne.loading,\n      isSaved: false,\n      like: false,\n      disLike: false\n    };\n\n    this.loader = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"loader\",\n      className: \"loading-main video-page-leader\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"TailSpin\",\n        color: \"#00BFFF\",\n        height: 50,\n        width: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this);\n\n    this.getVideoDetails = async () => {\n      this.setState({\n        status: AlteringOne.loading\n      });\n      const {\n        match\n      } = this.props;\n      const {\n        params\n      } = match;\n      const {\n        id\n      } = params;\n      const jwtToken = Cookies.get(\"jwt_token\");\n      const url = `https://apis.ccbp.in/videos/${id}`;\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        }\n      };\n      const response = await fetch(url, options);\n      const jsonOne = await response.json();\n      const videoDetails = jsonOne.video_details;\n      this.setState({\n        details: videoDetails,\n        status: AlteringOne.success\n      });\n    };\n\n    this.videoPlayer = () => {\n      const {\n        details\n      } = this.state;\n      const updatedOne = {\n        channel: details.channel,\n        description: details.description,\n        id: details.id,\n        publishedAt: details.published_at,\n        thumbnailUrl: details.thumbnail_url,\n        title: details.title,\n        videoUrl: details.video_url,\n        viewCount: details.view_count\n      };\n      const updatedChannel = {\n        name: updatedOne.channel.name,\n        profileImageUrl: updatedOne.channel.profile_image_url,\n        subscriberCount: updatedOne.channel.subscriber_count\n      };\n      const timesOfIndia = formatDistanceToNow(new Date(updatedOne.publishedAt)).replace(\"over\", \"\");\n      return /*#__PURE__*/_jsxDEV(AccessOfAllStateOne.Consumer, {\n        children: value => {\n          const {\n            isLight,\n            savedVideos,\n            onSaveVideos,\n            onRemoveSavedVideos\n          } = value;\n          const {\n            isSaved,\n            like,\n            disLike\n          } = this.state;\n          const isAlreadyThere = savedVideos.filter(each => each.id === details.id);\n\n          const onClickLikeOne = () => {\n            if (disLike) {\n              this.setState({\n                like: false\n              });\n            }\n\n            this.setState(prevState => ({\n              like: !prevState.like\n            }));\n          };\n\n          const onClickDisLikeOne = () => {\n            if (like) {\n              this.setState({\n                like: false\n              });\n            }\n\n            this.setState(prevState => ({\n              disLike: !prevState.disLike\n            }));\n          };\n\n          const customizeButton = isAlreadyThere.length >= 1 && \"special-class-name\";\n\n          const onClickSaveOne = () => {\n            if (isAlreadyThere.length >= 1) {\n              this.setState({\n                isSaved: false\n              });\n              onRemoveSavedVideos(details);\n            } else {\n              this.setState(prevState => ({\n                isSaved: !prevState.isSaved\n              }));\n\n              if (isSaved) {\n                onRemoveSavedVideos(details);\n              } else {\n                onSaveVideos(details);\n              }\n            }\n          };\n\n          return /*#__PURE__*/_jsxDEV(MainContainer, {\n            isLight: isLight,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(ReactPlayer, {\n                className: \"video-page-image\",\n                url: updatedOne.videoUrl,\n                controls: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Title, {\n                isLight: isLight,\n                children: updatedOne.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"like-share-cont-main\",\n                children: [/*#__PURE__*/_jsxDEV(ViewsTimeCont, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [updatedOne.viewCount, \" views\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \".\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [timesOfIndia, \" ago\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(LikeDislikeCont, {\n                  isLight: isLight,\n                  className: \"checking\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: onClickLikeOne,\n                    className: `${like && \"special-class-name\"} like-dislike-item-cont`,\n                    children: [/*#__PURE__*/_jsxDEV(AiOutlineLike, {\n                      className: \"like-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Like\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: onClickDisLikeOne,\n                    className: \"like-dislike-item-cont\",\n                    children: [/*#__PURE__*/_jsxDEV(AiOutlineDislike, {\n                      className: \"like-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Dislike\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    onClick: onClickSaveOne,\n                    className: `${isSaved && \"special-class-name\"} like-dislike-item-cont ${customizeButton}`,\n                    children: [/*#__PURE__*/_jsxDEV(HiSaveAs, {\n                      className: \"like-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Save\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"divide-line-cont\",\n                children: /*#__PURE__*/_jsxDEV(\"hr\", {\n                  className: \"divide-line\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"video-page-profile-cont\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"video-page-profile-image\",\n                  src: updatedChannel.profileImageUrl,\n                  alt: updatedChannel.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"video-page-profile-right-cont\",\n                  children: [/*#__PURE__*/_jsxDEV(ProfileName, {\n                    isLight: isLight,\n                    children: updatedChannel.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Subscribers, {\n                    children: [updatedChannel.subscriberCount, \" Subscribers\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Description, {\n                    isLight: isLight,\n                    children: updatedOne.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.mainContainer = () => {\n      const {\n        status\n      } = this.state;\n\n      switch (status) {\n        case AlteringOne.loading:\n          return this.loader();\n\n        case AlteringOne.success:\n          return this.videoPlayer();\n\n        default:\n          return this.loader();\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getVideoDetails();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(AccessOfAllStateOne.Consumer, {\n      children: value => {\n        const {\n          isLight\n        } = value;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-page-lower-one-cont\",\n            children: [/*#__PURE__*/_jsxDEV(LeftContainer, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this), this.mainContainer()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default VideoPage;","map":{"version":3,"sources":["/home/workspace/reactjs/coding-practices/nxtWatchApp/src/components/VideoPage/index.js"],"names":["Component","Cookies","ReactPlayer","Loader","formatDistanceToNow","AiOutlineLike","AiOutlineDislike","HiSaveAs","AccessOfAllStateOne","LeftContainer","Header","MainContainer","Title","ViewsTimeCont","ProfileName","Subscribers","Description","LikeDislikeCont","AlteringOne","loading","success","failure","VideoPage","state","details","ExSavedVideos","status","isSaved","like","disLike","loader","getVideoDetails","setState","match","props","params","id","jwtToken","get","url","options","headers","Authorization","response","fetch","jsonOne","json","videoDetails","video_details","videoPlayer","updatedOne","channel","description","publishedAt","published_at","thumbnailUrl","thumbnail_url","title","videoUrl","video_url","viewCount","view_count","updatedChannel","name","profileImageUrl","profile_image_url","subscriberCount","subscriber_count","timesOfIndia","Date","replace","value","isLight","savedVideos","onSaveVideos","onRemoveSavedVideos","isAlreadyThere","filter","each","onClickLikeOne","prevState","onClickDisLikeOne","customizeButton","length","onClickSaveOne","mainContainer","componentDidMount","render"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\n\nimport Cookies from \"js-cookie\";\n\nimport ReactPlayer from \"react-player\";\n\nimport Loader from \"react-loader-spinner\";\n\nimport { formatDistanceToNow } from \"date-fns\";\n\nimport { AiOutlineLike, AiOutlineDislike } from \"react-icons/ai\";\n\nimport { HiSaveAs } from \"react-icons/hi\";\n\nimport AccessOfAllStateOne from \"../../complexOne/AccessOfAllStateOne\";\n\nimport LeftContainer from \"../LeftContainer\";\n\nimport Header from \"../Header\";\n\nimport {\n  MainContainer,\n  Title,\n  ViewsTimeCont,\n  ProfileName,\n  Subscribers,\n  Description,\n  LikeDislikeCont,\n} from \"./styledOne\";\n\nimport \"./index.css\";\n\nconst AlteringOne = {\n  loading: \"LOADING\",\n  success: \"SUCCESS\",\n  failure: \"FAILURE\",\n};\n\nclass VideoPage extends Component {\n  state = {\n    details: \"s\",\n    ExSavedVideos: [],\n    status: AlteringOne.loading,\n    isSaved: false,\n    like: false,\n    disLike: false,\n  };\n\n  componentDidMount() {\n    this.getVideoDetails();\n  }\n\n  loader = () => (\n    <div data-testid=\"loader\" className=\"loading-main video-page-leader\">\n      <Loader type=\"TailSpin\" color=\"#00BFFF\" height={50} width={50} />\n    </div>\n  );\n\n  getVideoDetails = async () => {\n    this.setState({ status: AlteringOne.loading });\n    const { match } = this.props;\n    const { params } = match;\n    const { id } = params;\n\n    const jwtToken = Cookies.get(\"jwt_token\");\n\n    const url = `https://apis.ccbp.in/videos/${id}`;\n\n    const options = {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`,\n      },\n    };\n\n    const response = await fetch(url, options);\n    const jsonOne = await response.json();\n    const videoDetails = jsonOne.video_details;\n    this.setState({ details: videoDetails, status: AlteringOne.success });\n  };\n\n  videoPlayer = () => {\n    const { details } = this.state;\n    const updatedOne = {\n      channel: details.channel,\n      description: details.description,\n      id: details.id,\n      publishedAt: details.published_at,\n      thumbnailUrl: details.thumbnail_url,\n      title: details.title,\n      videoUrl: details.video_url,\n      viewCount: details.view_count,\n    };\n\n    const updatedChannel = {\n      name: updatedOne.channel.name,\n      profileImageUrl: updatedOne.channel.profile_image_url,\n      subscriberCount: updatedOne.channel.subscriber_count,\n    };\n\n    const timesOfIndia = formatDistanceToNow(\n      new Date(updatedOne.publishedAt)\n    ).replace(\"over\", \"\");\n    return (\n      <AccessOfAllStateOne.Consumer>\n        {(value) => {\n          const {\n            isLight,\n            savedVideos,\n            onSaveVideos,\n            onRemoveSavedVideos,\n          } = value;\n\n          const { isSaved, like, disLike } = this.state;\n\n          const isAlreadyThere = savedVideos.filter(\n            (each) => each.id === details.id\n          );\n\n          const onClickLikeOne = () => {\n            if (disLike) {\n              this.setState({ like: false });\n            }\n            this.setState((prevState) => ({ like: !prevState.like }));\n          };\n\n          const onClickDisLikeOne = () => {\n            if (like) {\n              this.setState({ like: false });\n            }\n            this.setState((prevState) => ({ disLike: !prevState.disLike }));\n          };\n\n          const customizeButton =\n            isAlreadyThere.length >= 1 && \"special-class-name\";\n\n          const onClickSaveOne = () => {\n            if (isAlreadyThere.length >= 1) {\n              this.setState({ isSaved: false });\n              onRemoveSavedVideos(details);\n            } else {\n              this.setState((prevState) => ({ isSaved: !prevState.isSaved }));\n\n              if (isSaved) {\n                onRemoveSavedVideos(details);\n              } else {\n                onSaveVideos(details);\n              }\n            }\n          };\n\n          return (\n            <MainContainer isLight={isLight}>\n              <div>\n                <ReactPlayer\n                  className=\"video-page-image\"\n                  url={updatedOne.videoUrl}\n                  controls\n                />\n                <Title isLight={isLight}>{updatedOne.title}</Title>\n                <div className=\"like-share-cont-main\">\n                  <ViewsTimeCont>\n                    <p>{updatedOne.viewCount} views</p>\n                    <p>.</p>\n                    <p>{timesOfIndia} ago</p>\n                  </ViewsTimeCont>\n                  <LikeDislikeCont isLight={isLight} className=\"checking\">\n                    <li\n                      onClick={onClickLikeOne}\n                      className={`${\n                        like && \"special-class-name\"\n                      } like-dislike-item-cont`}\n                    >\n                      <AiOutlineLike className=\"like-icon\" />\n                      <p>Like</p>\n                    </li>\n                    <li\n                      onClick={onClickDisLikeOne}\n                      className=\"like-dislike-item-cont\"\n                    >\n                      <AiOutlineDislike className=\"like-icon\" />\n                      <p>Dislike</p>\n                    </li>\n                    <li\n                      onClick={onClickSaveOne}\n                      className={`${\n                        isSaved && \"special-class-name\"\n                      } like-dislike-item-cont ${customizeButton}`}\n                    >\n                      <HiSaveAs className=\"like-icon\" />\n                      <p>Save</p>\n                    </li>\n                  </LikeDislikeCont>\n                </div>\n                <div className=\"divide-line-cont\">\n                  <hr className=\"divide-line\" />\n                </div>\n                <div className=\"video-page-profile-cont\">\n                  <img\n                    className=\"video-page-profile-image\"\n                    src={updatedChannel.profileImageUrl}\n                    alt={updatedChannel.name}\n                  />\n                  <div className=\"video-page-profile-right-cont\">\n                    <ProfileName isLight={isLight}>\n                      {updatedChannel.name}\n                    </ProfileName>\n                    <Subscribers>\n                      {updatedChannel.subscriberCount} Subscribers\n                    </Subscribers>\n                    <Description isLight={isLight}>\n                      {updatedOne.description}\n                    </Description>\n                  </div>\n                </div>\n              </div>\n            </MainContainer>\n          );\n        }}\n      </AccessOfAllStateOne.Consumer>\n    );\n  };\n\n  mainContainer = () => {\n    const { status } = this.state;\n    switch (status) {\n      case AlteringOne.loading:\n        return this.loader();\n\n      case AlteringOne.success:\n        return this.videoPlayer();\n\n      default:\n        return this.loader();\n    }\n  };\n\n  render() {\n    return (\n      <AccessOfAllStateOne.Consumer>\n        {(value) => {\n          const { isLight } = value;\n\n          return (\n            <div>\n              <Header />\n              <div className=\"video-page-lower-one-cont\">\n                <LeftContainer />\n                {this.mainContainer()}\n              </div>\n            </div>\n          );\n        }}\n      </AccessOfAllStateOne.Consumer>\n    );\n  }\n}\n\nexport default VideoPage;\n"]},"metadata":{},"sourceType":"module"}